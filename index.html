<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Graph Viewer</title>
  </head>
  <body>
    <h1>Graph Viewer</h1>
    <div>
      <label for="traceId">Enter Trace ID:</label>
      <input type="number" id="traceId" min="1" max="50" />
      <button onclick="fetchGraph()">Show Graph</button>
    </div>
    <img
      id="graphImage"
      src=""
      alt="Graph will appear here."
      style="max-width: 800px; display: block; margin-top: 20px"
    />

    <script>
      function fetchGraph() {
        var traceId = document.getElementById("traceId").value;
        var imageUrl = `http://localhost:3000/graph/${traceId}`;

        fetch(imageUrl)
          .then((response) => response.blob())
          .then((blob) => {
            var url = URL.createObjectURL(blob);
            document.getElementById("graphImage").src = url;
          })
          .catch((error) => console.error("Error fetching the graph:", error));
      }
    </script>
  </body>
</html>
